//===== rAthena Script ======================================= 
//= Gunslinger Job Quest
//===== By: ================================================== 
//= erKURITA, RockmanEXE, Kisuka
//===== Current Version: ===================================== 
//= 2.2
//===== Compatible With: ===================================== 
//= rAthena Project
//===== Description: ========================================= 
//= Gunslinger Job Change Quest
//===== Additional Comments: ================================= 
//= 1.0 Made the NPC [erKURITA]
//= 1.5 Couple fixes to the npc, aswell as adding the missing
//=     3 green herbs. [erKURITA]
//= 1.6 job number->const, commonized variable name,
//=     optimized [Lupus]
//= 1.7 Now uses only ONE variable GUNS_Q [Lupus]
//= 1.7a Grammar fixes, few spelling fixes, etc [CBMaster]
//= 1.7b Parenthesis fixes [KarLaeda]
//= 1.8 Fixed the reward you can get [Playtester]
//= 1.9 Removed some 'clever' script constructs [ultramage]
//= 2.0 Updated to official version - Thanks to Omega for
//=     his first try [SinSloth] 1.10b - removed .GATs [Lupus]
//= 2.1 Wise Bull Horn now deletes all items. Thanks to yyCC. [L0ne_W0lf]
//= 2.1a Corrected a Typo error ";;". [Samuray22]
//= 2.1b Corrected some typos errors. (bugreport:1549) [Samuray22]
//= 2.1c Fixed some missing/messed up item checks. (bugreport:2693) [Kisuka]
//= 2.2 Updated to match AEGIS script and Added Quest Log commands. [Kisuka]
//============================================================ 

que_ng,152,167,3	script	Master Miller	901,{
	if (Upper == 2) {
		mes "[Maître Miller]";
		mes "Eh bien, n'es-tu pas un";
		mes "adorable petit enfant~";
		mes "Où est ta maman ?";
		mes "Cet endroit est dangereux, alors";
		mes "rentre chez toi bientôt, d'accord ?";
		close;
	}
	if (Class == Job_Novice) {
		if (!callfunc("F_CanChangeJob")) {
			mes "[Maître Miller]";
			mes "Intéressé par devenir";
			mes "un Gunslinger, hein ? Tu as";
			mes "du potentiel, mais tu n'es";
			mes "pas encore assez expérimenté.";
			mes "Entraîne-toi un peu plus,";
			mes "et reviens ensuite, tu m'entends ?";
			close;
		}
		if (GUNS_Q == 0) {
			mes "[Maître Miller]";
			mes "Je suis Miller, instructeur à plein";
			mes "temps pour les Gunslingers, et";
			mes "gardien à plein temps de Lady";
			mes "Selena. Alors, de quoi as-tu besoin ?";
			mes "Si ce n'est pas important, je ne peux pas te consacrer de temps.";
			next;
			if (select("Rien. : Je veux devenir un Gunslinger.") == 1) {
				mes "[Maître Miller]";
				mes "Ne gaspille pas mon temps.";
				mes "Si tu veux vraiment devenir";
				mes "un Gunslinger, reviens me voir.";
				close;
			}
			mes "[Maître Miller]";
			mes "Hmm. Tu es assez jeune, mais";
			mes "tes yeux me disent que tu as";
			mes "de l'ambition. Tu devras réussir notre entretien et notre cours";
			mes "éducatif pour devenir un Gunslinger. Veux-tu postuler pour le poste ?";
			next;
			if (select("Laisse-moi un peu de temps pour réfléchir. : Bien sûr !") == 1) {
				mes "[Maître Miller]";
				mes "Compréhensible.";
				mes "Si tu décides que";
				mes "tu veux devenir";
				mes "un Gunslinger, fais-le moi savoir";
				mes "tout de suite. Je te mettrai en route.";
				close;
			}
			mes "[Maître Miller]";
			mes "Parfait, parfait. D'accord alors,";
			mes "commençons. Prends";
			mes "cette lettre à M. Wise Bull";
			mes "Horn à Payon. C'est un chaman";
			mes "qui jugera si tu es qualifié ou non";
			mes "pour devenir un Gunslinger.";
			set GUNS_Q,1;
			setquest 6020;
			close;
		}
		else if (GUNS_Q == 1) {
			mes "[Maître Miller]";
			mes "Prends cette lettre de";
			mes "présentation que j'ai écrite";
			mes "pour toi à M. Wise Bull";
			mes "Horn à Payon. Il te testera";
			mes "pour voir si tu es vraiment";
			mes "matériel de Gunslinger.";
			close;
		}
		else if (GUNS_Q == 2) {
			mes "[Maître Miller]";
			mes "Hmm... Wise Bull Horn";
			mes "t'a demandé de rassembler les";
			mes "objets dont tu as besoin pour faire le";
			mes "bon de commande ? Hm. Je suppose que c'est";
			mes "une partie de son test de qualification.";
			close;
		}
		else if (GUNS_Q == 3) {
			mes "[Maître Miller]";
			mes "Wise Bull Horn t'a demandé";
			mes "de lui apporter du lait ?";
			mes "Il doit vraiment t'apprécier";
			mes "s'il te demande déjà des services.";
			mes "Bonne chance, mon ami.";
			close;
		}
		else if (GUNS_Q == 4) {
			mes "[Maître Miller]";
			mes "J'attends de bonnes nouvelles";
			mes "de ta part bientôt. Je n'ai";
			mes "aucun doute que tu deviendras";
			mes "un Gunslinger.";
			close;
		}
		else if (GUNS_Q == 5) {
			if (SkillPoint != 0) {
				mes "[Maître Miller]";
				mes "Hé, tu as des points";
				mes "de compétence inutilisés.";
				mes "Tu ferais mieux de les";
				mes "utiliser avant de revenir me voir.";
				close;
			}
			mes "[Maître Miller]";
			mes "Oh, tu as apporté un";
			mes "bon de commande de Wise Bull Horn ?";
			mes "Cela faisait un moment depuis qu'il";
			mes "n'en avait donné à personne, donc";
			mes "je suis vraiment fier de toi !";
			next;
			mes "[Maître Miller]";
			mes "Si Wise Bull Horn approuve,";
			mes "alors je n'ai aucune raison de";
			mes "te rejeter. D'accord alors, je vais";
			mes "te promouvoir au rang de Gunslinger.";
			mes "Mais d'abord, laisse-moi t'expliquer";
			mes "notre travail en détail.";
			next;
			mes "[Maître Miller]";
			mes "En tant que Gunslinger, tu dois";
			mes "garder ton arme à feu avec toi à";
			mes "tout moment. La guilde des Gunslingers";
			mes "contrôle chaque arme à feu et chaque balle,";
			mes "donc tu ne peux les obtenir que de nos membres de guilde.";
			next;
			mes "[Maître Miller]";
			mes "Ne t'inquiète pas, les Gunslingers";
			mes "Guildsmen peuvent être trouvés presque";
			mes "partout de nos jours. De toute façon,";
			mes "il faut que ça se passe ainsi sur ordre de notre leader de guilde, Lady Selena.";
			next;
			mes "[Maître Miller]";
			mes "Tu pourrais avoir la chance de";
			mes "la rencontrer un de ces jours.";
			mes "Quoi qu'il en soit, sache que nous devons";
			mes "réguler la vente d'armes à feu et de balles pour les éloigner des";
			mes "gens malintentionnés ou irresponsables.";
			next;
			mes "[Maître Miller]";
			mes "En tout cas, c'est toujours";
			mes "un plaisir pour moi de parler";
			mes "à un autre Gunslinger, alors";
			mes "restons en contact. Que la";
			mes "puissance de la terre te protège";
			mes "dans toutes tes aventures~";
			callfunc "Job_Change", Job_Gunslinger;
			atcommand "@joblvlup 5";
			set GUNS_Q,6;
			completequest 6024;
			if (checkre(0)) {
				getitem 13180,1;        // Novice_Rifle
				getitem 12149,2;        // Bullet_Case
				getitem 12151,1;        // Bullet_Case_Silver
			} else {
				if (rand(2))
					getitem 13100,1;    // Six_Shooter
				else
					getitem 13150,1;    // Branch
			}
			close;
		}
	} else {
		if (Class == Job_Gunslinger) {
			mes "[Maître Miller]";
			mes "Oh ! Ça fait longtemps,";
			mes "mon ami. Comment ça va ?";
			mes "J'espère que tu as bien pris";
			mes "soin de ton arme à feu.";
			mes "Prends-en soin, et elle prendra";
			mes "soin de toi. N'oublie pas ça.";
			close;
		} else {
			mes "[Maître Miller]";
			mes "Si tu n'as pas";
			mes "affaire avec moi,";
			mes "alors s'il te plaît,";
			mes "poursuis ton chemin.";
			close;
		}
	}
}

payon,184,65,3	script	Wise Bull Horn	866,{
	if (GUNS_Q == 1) {
		mes "[Wise Bull Horn]";
		mes "Bonjour, jeune loup.";
		mes "Quel motif";
		mes "t'amène devant moi ?";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "M. Miller m'a envoyé pour";
		mes "te remettre cette lettre.";
		mes "En fait, je suis intéressé par";
		mes "devenir un Gunslinger...";
		next;
		mes "[Wise Bull Horn]";
		mes "Miller, tu dis ?";
		mes "Hm, le Renard Noir ne";
		mes "fait pas d'introductions pour";
		mes "n'importe qui. Il ne le fait que";
		mes "pour ceux en qui il croit en tant";
		mes "que bons Gunslingers. Oui, je pense";
		mes "que je sais pourquoi il t'a envoyé à moi.";
		next;
		mes "[Wise Bull Horn]";
		mes "Je peux le voir dans tes yeux :";
		mes "tu as un cœur chaleureux et un";
		mes "fort sens des responsabilités.";
		mes "Tout ce dont tu as besoin est la bénédiction";
		mes "de la Terre pour te protéger";
		mes "en tant que Gunslinger.";
		next;
		mes "[Wise Bull Horn]";
		mes "Je peux créer un bon de commande";
		mes "qui montrera ton désir";
		mes "de devenir un guerrier de la";
		mes "terre que tu pourras présenter à";
		mes "des instructeurs Gunslinger.";
		mes "J'aurai besoin de ces objets...";
		next;
		mes "[Wise Bull Horn]";
		mes "^3355FF1 Tronc^000000,";
		mes "^3355FF3 Plumes^000000,";
		mes "^3355FF3 Zargons^000000,";
		mes "^3355FF10 Coquilles^000000,";
		mes "^3355FF3 Herbes Vertes^000000, et";
		mes "^3355FF3 Coquilles Arc-en-ciel^000000.";
		next;
		mes "[Wise Bull Horn]";
		mes "Après avoir complété le";
		mes "bon de commande, tu peux";
		mes "l'apporter à Black Fox, et il";
		mes "t'aidera à atteindre ton";
		mes "objectif de devenir";
		mes "un Gunslinger.";
		set GUNS_Q,2;
		changequest 6020,6021;
		close;
	}
	else if (GUNS_Q == 2) {
		if (countitem(912) < 3 || countitem(914) < 3 || countitem(1019) < 1 || countitem(935) < 10 || countitem(511) < 3 || countitem(1013) < 3) {
			mes "[Wise Bull Horn]";
			mes "Je peux créer un bon de commande";
			mes "qui montrera ton désir";
			mes "de devenir un guerrier de la";
			mes "terre que tu pourras présenter à";
			mes "des instructeurs Gunslinger.";
			mes "J'aurai besoin de ces objets...";
			next;
			mes "[Wise Bull Horn]";
			mes "^3355FF1 Tronc^000000,";
			mes "^3355FF3 Plumes^000000,";
			mes "^3355FF3 Zargons^000000,";
			mes "^3355FF10 Coquilles^000000,";
			mes "^3355FF3 Herbes Vertes^000000, et";
			mes "^3355FF3 Coquilles Arc-en-ciel^000000.";
			next;
			mes "[Wise Bull Horn]";
			mes "Après avoir complété le";
			mes "bon de commande, tu peux";
			mes "l'apporter à Black Fox, et il";
			mes "t'aidera à atteindre ton";
			mes "objectif de devenir";
			mes "un Gunslinger.";
			close;
		}
		delitem 912,3; // Zargon
		delitem 914,3; // Plume
		delitem 1019,1; // Bloc_de_Bois
		delitem 935,10; // Coquille
		delitem 511,3; // Herbe_Verte
		delitem 1013,3; // Coquille_Colorée
		set GUNS_Q,3;
		changequest 6021,6022;
		mes "[Wise Bull Horn]";
		mes "Ah, tu es revenu";
		mes "avec tout ce dont j'ai besoin.";
		mes "Donne-moi un peu de temps";
		mes "pour créer le bon de commande.";
		mes "Si tu reviens dans un petit moment,";
		mes "je devrais l'avoir terminé.";
		close;
	}
	else if (GUNS_Q == 3) {
		mes "[Wise Bull Horn]";
		mes "Oh, tu arrives juste à";
		mes "temps. Cela fait un moment";
		mes "que je n'ai pas fait l'un de ces bons,";
		mes "alors je pourrais être un peu";
		mes "rouillé. Mais cela me ramène vraiment à";
		mes "l'époque de ma jeunesse.";
		next;
		mes "[Wise Bull Horn]";
		mes "Je sers dans cette";
		mes "fonction de sélection des";
		mes "bénéficiaires de bons";
		mes "Gunslinger depuis quelques décennies";
		mes "maintenant. Mais avant cela, j'étais un";
		mes "jeune aventurier comme toi.";
		next;
		mes "[Wise Bull Horn]";
		mes "On dirait que c'était hier";
		mes "quand je tenais mon propre";
		mes "petit bon en tant que Gunslinger,";
		mes "un guerrier de la terre. C'est";
		mes "là que j'ai rencontré le père de Selena...";
		mes "Comment le temps peut-il passer si rapidement ?";
		next;
		mes "[Wise Bull Horn]";
		mes "Ah... J'apprécie vraiment";
		mes "Selena et Black Fox pour toute";
		mes "leur aide dans le recrutement";
		mes "de jeunes Gunslingers. Je suis très";
		mes "vieux maintenant et je ne peux pas tout faire seul. *Soupir...* C'est la vie.";
		next;
		mes "[Wise Bull Horn]";
		mes "Avant de partir, puis-je";
		mes "te demander une petite faveur ?";
		mes "J'ai soif et j'aimerais";
		mes "un verre de lait bien froid.";
		mes "Pourrais-tu m'en apporter ?";
		set GUNS_Q,4;
		changequest 6022,6023;
		close;
	}
	else if (GUNS_Q == 4) {
		if (countitem(519) < 1) {
			mes "[Wise Bull Horn]";
			mes "Je suis un vieil homme qui";
			mes "sera bientôt réuni avec la terre";
			mes "mère. Pourrais-tu faire cette faveur";
			mes "à un vieux Gunslinger et m'apporter";
			mes "un verre de lait bien froid, s'il te plaît ?";
			close;
		}
		delitem 519,1; // Lait
		set GUNS_Q,5;
		changequest 6023,6024;
		mes "[Wise Bull Horn]";
		mes "Oh, merci pour ta générosité !";
		mes "Je vois que tu m'as apporté du";
		mes "lait. Ahhhh, délicieux~";
		next;
		mes "[Wise Bull Horn]";
		mes "J'admire la patience,";
		mes "la douceur et la gentillesse";
		mes "que tu as prouvées en apportant";
		mes "cela. Oui, ce sont des traits que nous";
		mes "voulons que les Gunslingers aient.";
		next;
		mes "[Wise Bull Horn]";
		mes "Maintenant, s'il te plaît, prends ce bon";
		mes "à Miller, le Renard Noir, avec";
		mes "mon approbation sincère.";
		mes "J'espère que tu utiliseras ton";
		mes "arme pour faire respecter la justice";
		mes "en tant que noble guerrier de la terre.";
		next;
		mes "[Wise Bull Horn]";
		mes "Eeh~Yeah~Eeh~Hooom";
		mes "Eeh~Yeah~Eeh~Hooom";
		mes "Maaaaarrraaa Neeey~";
		mes "Yippee Yippee Yai Yocaiyay~";
		close;
	}
	else if (GUNS_Q == 5) {
		mes "[Wise Bull Horn]";
		mes "S'il te plaît, prends ce bon";
		mes "à Miller, le Renard Noir, avec";
		mes "mon approbation sincère.";
		mes "J'espère que tu utiliseras ton";
		mes "arme pour faire respecter la justice";
		mes "en tant que noble guerrier de la terre.";
		next;
		mes "[Wise Bull Horn]";
		mes "Eeh~Yeah~Eeh~Hooom";
		mes "Eeh~Yeah~Eeh~Hooom";
		mes "Maaaaarrraaa Neeey~";
		mes "Yippee Yippee Yai Yocaiyay~";
		close;
	}
	else if (GUNS_Q == 6) {
		mes "[Wise Bull Horn]";
		mes "Ah, cela fait longtemps.";
		mes "J'espère que tu deviendras";
		mes "une bête intelligente et utiliseras";
		mes "tes pouvoirs de Gunslinger pour protéger ce qui est bon et juste.";
		close;
	}
	else {
		mes "[Wise Bull Horn]";
		mes "Zzzzzz~";
		mes "^333333*Phew*^000000";
		close;
	}
}
