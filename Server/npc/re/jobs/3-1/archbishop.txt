//===== rAthena Script =======================================
//= Arch Bishop Job Quest
//===== By: ==================================================
//= L0ne_W0lf
//= Credits: Gepard
//===== Current Version: =====================================
//= 2.0
//===== Compatible With: =====================================
//= rAthena Project
//===== Description: =========================================
//= [Official Conversion]
//= Job change Quest from Priest / High Priest -> Arch Bishop.
//===== Additional Comments: =================================
//= 1.0 First version.
//= 1.1 Fixed class checks for arch bishops.
//= 1.2 Fixed Job tags typos.
//= 1.3 Made some NPC's into duplicates and fixed some && / || checks. [Masao]
//= 1.4 Fixed Job_Archbishop/Job_Archbishop_T typos. [Euphy]
//= 1.5 Redone the whole Script. [Masao]
//= 1.5a Fixed little typo in Baby Priest & Baby Arch Bishop checks. [Masao]
//= 1.5b More small fixes. [Euphy]
//= 1.6 Fixed bugs where players unable to continue the quest. [Joseph]
//= 1.7 Updated script, many bugs fixed. [Euphy]
//= 1.7a Moved warps to separate file. [Euphy]
//= 1.8 Bug fixes and corrections. [Euphy]
//= 1.9 Added GM management function. [Euphy]
//= 2.0 Added VIP features. [Euphy]
//============================================================

prt_church,103,88,3	script	Praying Minister#arch	60,{
	if (BaseJob != Job_Priest) {
		if (Class == Job_Arch_Bishop || Class == Job_Arch_Bishop_T || Class == Job_Baby_Arch_Bishop) {
			mes "[Ministre de la Prière]";
			mes "Ah ! Un Archevêque.";
			mes "Vous avez atteint l'état de lumière.";
			mes "J'espère que vous apporterez bonheur et honneur aux gens lors de vos aventures.";
			close;
		}
		mes "[Ministre de la Prière]";
		mes "Face au tout-puissant Dieu Odin,";
		mes "il n'y aura personne de plus sage que lui,";
		mes "et il n'y aura personne de plus miséricordieux que lui.";
		next;
		mes "[Ministre de la Prière]";
		mes "Tous les ministres d'Odin doivent être diligents. Ils ne doivent jamais être trop paresseux pour servir Odin.";
		next;
		mes "[Ministre de la Prière]";
		mes "De nos jours, j'ai entendu dire que les ministres se relâchent dans leur devoir envers Odin et se parent des splendeurs du monde.";
		next;
		mes "[Ministre de la Prière]";
		mes "Si vous croisez l'un de ces ministres, pourriez-vous leur demander de se rendre à l'église de Prontera ?";
		next;
		mes "[Ministre de la Prière]";
		mes "Ils dégagent une aura spéciale, vous pourrez donc les reconnaître facilement.";
		mes "Je vais les rendre dignes de servir Odin.";
		close;
	}
	if ((BaseLevel > 98) && (JobLevel > 49)) {
		if (job_arch == 0) {
			if (SkillPoint) {
				mes "Vous ne pouvez pas changer de métier sans utiliser tous vos points de compétence. Veuillez utiliser tous vos points de compétence avant de postuler pour changer de métier~";
				close;
			}
			if (VIP_SCRIPT) {
				callfunc "VIP_Troisième_Classe";
				set job_arch,1;
				setquest 2187;
				next;
			}
			mes "[Ministre de la Prière]";
			mes "Face au tout-puissant Dieu Odin,";
			mes "il n'y aura personne de plus sage que lui,";
			mes "et il n'y aura personne de plus miséricordieux que lui.";
			next;
			mes "[Ministre de la Prière]";
			mes "Tous les ministres d'Odin doivent être diligents. Ils ne doivent jamais être trop paresseux pour servir Odin.";
			next;
			mes "[Ministre de la Prière]";
			mes (Sex == SEX_MALE?"Frère":"Sœur")+", comment se passe votre vie ? L'avez-vous vécue pleinement ?";
			mes "Avez-vous servi votre vie à la lumière d'Odin ?";
			next;
			mes "[Ministre de la Prière]";
			mes "Nous sommes des ministres et notre comportement est considéré comme des actes des dieux.";
			mes "Nous devrions toujours en être conscients.";
			next;
			mes "[Ministre de la Prière]";
			mes "Nous devrions toujours dire la vérité.";
			mes "Nous ne devrions pas tomber dans les mensonges et la tromperie.";
			next;
			mes "[Ministre de la Prière]";
			mes (Sex == SEX_MALE?"Frère":"Sœur")+"...";
			mes "Même si nous servons Odin, nous sommes des personnes normales.";
			mes "Nous pouvons être dégradés malgré nous et nous devons en être conscients.";
			next;
			mes "[Ministre de la Prière]";
			mes "Nous essayons toujours de garder notre intention initiale à l'esprit et de propager la règle d'Odin.";
			next;
			select("Comment puis-je devenir comme ça ?");
			mes "[Ministre de la Prière]";
			mes "C'est une bonne question.";
			mes "Nous avons beaucoup de méthodes.";
			mes "Mais, je recommande ceci.";
			next;
			mes "[Ministre de la Prière]";
			mes "Avez-vous déjà entendu parler d'un ^3131FFPèlerinage Sacré^000000 ?";
			mes "Un Pèlerinage Sacré consiste à se rendre dans un lieu saint pour prier le dieu Odin en demandant protection et grâce.";
			next;
			mes "[Ministre de la Prière]";
			mes "Lorsque vous priez Odin dans le lieu saint, vous aurez l'impression de renaître.";
			next;
			mes "[Ministre de la Prière]";
			mes "Qu'en pensez-vous ?";
			mes "Aimeriez-vous faire un Pèlerinage Sacré ?";
			next;
			switch(select("Oui, je veux.:J'y réfléchirai.")) {
				case 1:
					mes "[Ministre de la Prière]";
					mes "C'est la bonne attitude.";
					mes "Une personne qui vit sa vie de manière mondaine ferait mieux d'avoir un esprit et un corps neufs et d'évoluer vers la voie d'un vrai ministre d'Odin.";
					next;
					mes "[Ministre de la Prière]";
					mes "Il y a un petit village appelé Umbala, loin d'ici.";
					mes "Ce village est habité par une tribu qui vit en harmonie avec la nature.";
					next;
					mes "[Ministre de la Prière]";
					mes "Rendez-vous là-bas et trouvez le Prêtre Dayan.";
					mes "Dites-lui exactement :";
					mes "'^3131FFJe suis là pour le Pèlerinage Sacré.^000000'";
					next;
					mes "[Ministre de la Prière]";
					mes "Il est très âgé, donc il a des problèmes d'audition.";
					mes "Vous devrez parler fort et clairement. Compris ?";
					mes "J'espère que cela vous ouvrira la voie pour vivre à la lumière d'Odin.";
					set job_arch,1;
					setquest 2187;
					close;
				case 2:
					mes "[Ministre de la Prière]";
					mes "Mmmm...";
					mes "Un Pèlerinage Sacré n'est pas si difficile.";
					mes "Sachez simplement que dès que vous commencerez le chemin, vous serez sur la voie d'un vrai ministre d'Odin.";
					next;
					mes "[Ministre de la Prière]";
					mes "N'hésitez pas à me rendre visite si vous changez d'avis.";
					mes "Je serai toujours là pour vous.";
					close;
			}
		}
		mes "[Ministre de la Prière]";
		mes "Comment ça va ?";
		mes "Avez-vous rencontré le Prêtre Dayan à Umbala ?";
		close;
	}
	mes "[Ministre de la Prière]";
	mes "Face au tout-puissant Dieu Odin,";
	mes "il n'y aura personne de plus sage que lui,";
	mes "et il n'y aura personne de plus miséricordieux que lui.";
	next;
	mes "[Ministre de la Prière]";
	mes "Tous les ministres d'Odin doivent être diligents. Ils ne doivent jamais être trop paresseux pour servir Odin.";
	next;
	mes "[Ministre de la Prière]";
	mes "De nos jours, j'ai entendu dire que les ministres se relâchent dans leur devoir envers Odin et se parent des splendeurs du monde.";
	next;
	mes "[Ministre de la Prière]";
	mes "Si vous croisez l'un de ces ministres, pourriez-vous leur demander de se rendre à l'église de Prontera ?";
	next;
	mes "[Ministre de la Prière]";
	mes "Ils dégagent une aura spéciale, vous pourrez donc les reconnaître facilement.";
	mes "Je vais les rendre dignes de servir Odin.";
	close;
}

umbala,137,227,5	script	Utan Boy#arch	787,{
	mes "[Utan Boy]";
	mes "........";
	close;
}

umbala,139,227,3	script	Priest#arch	60,{
	if (job_arch == 0) {
		mes "[Prêtre]";
		mes "Un...ba... Unba?";
		close;
	} else if (job_arch == 1) {
		mes "[Prêtre]";
		mes "Un...ba... Umba?";
		next;
		mes "[Garçon Utan]";
		mes "...............";
		next;
		mes "[Prêtre]";
		mes "C'est... correct ?";
		mes "Hmm... donc...";
		mes "Um...ma ? Umau...ma ?";
		emotion ET_SWEAT;
		next;
		mes "[Garçon Utan]";
		mes "...............";
		next;
		mes "[Prêtre]";
		mes "Huuuuuu......";
		mes "Oh, mon Dieu. Je me sens lourd.";
		mes "hohohoho.";
		next;
		mes "- murmures~ -";
		next;
		mes "[Prêtre]";
		mes "hahahahaha.";
		mes "huhuhuhu. humhum.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Bonjour. Êtes-vous... Prêtre Dayan ?";
		next;
		mes "[Prêtre]";
		mes "Hein ?";
		next;
		mes "Il tourne la tête vers vous.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "N'êtes-vous pas le Prêtre Dayan ?";
		next;
		mes "[Prêtre]";
		mes "murmurant...";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Prêtre ! Da~yan ! C'est ça, non ?";
		next;
		mes "[Prêtre Dayan]";
		mes "Ah~, oui.";
		mes "Oui, c'est moi.";
		mes "Je suis Dayan. Ravi de vous rencontrer "+(Sex?"Frère.":"Sœur.");
		next;
		mes "Le vieux prêtre vous fait un sourire de coin à coin.";
		next;
		mes "[Prêtre Dayan]";
		mes "J'ai oublié de mettre mon appareil auditif. hehe.";
		mes "De toute façon, pourquoi êtes-vous venu ici ?";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Eh bien, je voulais vous dire...";
		next;
		input .@inputstr$;
		mes "[" + strcharinfo(0) + "]";
		mes "" + .@inputstr$ + "";
		next;
		if (.@inputstr$ != "Je suis ici pour le Pèlerinage Sacré") {
			mes "Le Prêtre Dayan semble ne pas vous comprendre. Il vous regarde juste en souriant.";
			next;
			mes "[Prêtre]";
			mes "Hein ? Que dites-vous ?";
			close;
		}
		mes "[Prêtre Dayan]";
		mes ".............. ?";
		next;
		mes "Il tend les oreilles vers vous.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "^FF0000Je suis ici pour le Pèlerinage Sacré !^000000";
		mes "^FF0000Je suis ici pour le Pèlerinage Sacré !^000000";
		mes "^FF0000Je suis ici pour le Pèlerinage Sacré !^000000";
		mes "^FF0000Je suis ici pour le Pèlerinage Sacré !^000000";
		next;
		mes "[Prêtre Dayan]";
		mes "Eh... vous l'êtes ?";
		mes "Un pèlerinage vers la Terre Sainte...";
		mes "Cela fait longtemps que je n'ai pas vu un ministre aussi pieux.";
		mes "Bienvenue. "+(Sex?"Frère.":"Sœur.");
		next;
		mes "Le vieux prêtre vous fait un sourire gracieux.";
		next;
		mes "[Prêtre Dayan]";
		mes "Voyez ce village entouré de cette immense forêt.";
		mes "Pouvez-vous voir un arbre géant ?";
		next;
		mes "[Prêtre Dayan]";
		mes "Cet arbre géant s'appelle l' ^3131FFYggdrasil^000000.";
		mes "Cet arbre a été créé à partir du corps d'Ymir après qu'Odin ait créé le monde tel que vous le connaissez, Midgard.";
		next;
		mes "[Prêtre Dayan]";
		mes "Une fontaine jaillit de l'extrémité des racines d'Yggdrasil qui se répandent dans tous les mondes.";
		next;
		mes "[Prêtre Dayan]";
		mes "Les racines se dirigent vers Niflheim où vous pouvez trouver la source Hvergelmir.";
		mes "À Midgard, il y a la source de Mimir.";
		mes "Et à Asgard, le monde des dieux, il y a la source du Verbe.";
		next;
		mes "[Prêtre Dayan]";
		mes "La source de Mimir est remplie d'intelligence, on dit que si Odin vous donne son œil, vous acquerrez toute la connaissance de cette source.";
		next;
		mes "[Prêtre Dayan]";
		mes Sex?"Frère.":"Sœur.";
		mes "Grâce au Pèlerinage Sacré, nous pouvons nous rendre pieux en purifiant nos corps et nos âmes.";
		next;
		mes "[Prêtre Dayan]";
		mes "Entrez dans l'Yggdrasil.";
		mes "Vous pourriez être attaqué par des créatures là-bas";
		mes "mais gardez à l'esprit que leurs intentions sont seulement de protéger l'Yggdrasil.";
		next;
		mes "[Prêtre Dayan]";
		mes "Suivez vos pas avec détermination.";
		mes "Si Odin ne vous abandonne pas, vous pourrez atteindre le début du monde au tronc de l'Yggdrasil.";
		mes "Lorsque vous y arriverez, trouvez un endroit tranquille.";
		next;
		mes "[Prêtre Dayan]";
		mes "Priez pour une vie de foi et expiez vos péchés avec un esprit pieux.";
		next;
		mes "[Prêtre Dayan]";
		mes "Admirez l'omniscience et l'omnipotence d'Odin et priez pour la sagesse de choisir le bon chemin.";
		mes "^3131FFN'hésitez pas à me demander comment prier^000000.";
		next;
		mes "[Prêtre Dayan]";
		mes "Ensuite, rendez-vous à l'endroit de la créature la plus célèbre d'Odin.";
		next;
		mes "[Prêtre Dayan]";
		mes "Après avoir fait votre pèlerinage, nous pourrons prendre un verre ensemble et parler de votre expérience.";
		next;
		mes "- Le Prêtre Dayan sourit à nouveau. -";
		set job_arch,2;
		changequest 2187,2188;
		close;
	} else if (job_arch == 2) {
		mes "[Prêtre Dayan]";
		mes "Cet endroit est le lieu le plus sacré au monde, Yggdrasil.";
		mes "Cette cérémonie sainte illuminera votre âme.";
		next;
		switch(select("Comment devrais-je prier ? : Annuler.")) {
		case 1:
			mes "[Prêtre Dayan]";
			mes "À travers la prière, nous pouvons suivre quatre voies.";
			mes "Souvenez-vous de ce que je vais vous dire maintenant.";
			next;
			mes "[Prêtre Dayan]";
			mes "La 1ère voie est la ^3131FFvoie de la méditation^000000.";
			mes "Dans la voie de la méditation, nous devons être prêts à saluer Odin avec une conscience claire.";
			next;
			mes "[Prêtre Dayan]";
			mes "La méditation commence par une ^3131FFBénédiction^000000 qui apaise votre esprit.";
			next;
			mes "[Prêtre Dayan]";
			mes "La 2e voie est la ^3131FFvoie de l'agonie^000000.";
			mes "À travers la voie de l'agonie, nous nous réfléchissons avec confession sur notre rétribution pour les actes d'une vie antérieure.";
			next;
			mes "[Prêtre Dayan]";
			mes "N'ayez pas peur de la douleur. C'est une nécessité et sera la première étape pour entrer dans une voie pour liquider les blessures du passé.";
			next;
			mes "[Prêtre Dayan]";
			mes "La 3e voie est la ^3131FFvoie de la joie^000000.";
			mes "À mesure que vous vous débarrasserez de la douleur, votre esprit souffrira moins et vous éprouverez la joie de vivre en aidant et en consolant les autres.";
			next;
			mes "[Prêtre Dayan]";
			mes "Ils vous béniront parce que vous êtes une existence de joie surmontant une affliction. Nous appelons cela ^3131FFAspersio^000000.";
			mes "Vous devez boire de l'^3131FFEau Sainte^000000 avec gratitude pour Aspersio.";
			next;
			mes "[Prêtre Dayan]";
			mes "La dernière voie est la ^3131FFvoie de la lumière^000000.";
			mes "Vous êtes libéré de tout péché car vous avez été béni dès la création.";
			next;
			mes "[Prêtre Dayan]";
			mes "Vous êtes né à nouveau comme la lumière, chantez un ^3131FFGloria^000000 de joie et d'âme qui vous aime.";
			next;
			mes "[Prêtre Dayan]";
			mes "Après avoir accompli toutes ces prières, levez-vous simplement avec un esprit pieux.";
			mes "Si votre prière est sincère, Odin vous prêtera sa sagesse.";
			next;
			mes "[Prêtre Dayan]";
			mes "Êtes-vous prêt ?";
			mes "D'accord, il est temps de partir et de vous exonérer.";
			mes "Si votre prière est terminée, parlons.";
			close;
		case 2:
			mes "[Prêtre Dayan]";
			mes "J'espère que ma prière pourra atténuer votre agonie...";
			close;
		}
	} else if (job_arch == 3) {
		mes "[Prêtre Dayan]";
		mes "Oh, vous êtes revenu.";
		mes "Je sens que vous avez une nouvelle énergie.";
		mes "Peut-être avez-vous prié sincèrement.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Je me sens léger. Comme si je venais de renaître...";
		next;
		mes "[Prêtre Dayan]";
		mes "Votre foi vous donne confiance et courage.";
		mes "Un sourire venant d'un esprit paisible débarrassera facilement les gens de leur méfiance.";
		mes "S'il vous plaît, inspirez les gens avec amour et énergie.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Merci pour vos gentilles paroles.";
		next;
		mes "[Prêtre Dayan]";
		mes Sex?"Frère.":"Sœur.";
		mes "Maintenant, il y a un endroit où vous devriez aller.";
		next;
		mes "[Prêtre Dayan]";
		mes "Cet endroit est Hugel dans Schwarzwald.";
		mes "Il y a une Nonne qui prie là-bas nommée Vinue,";
		mes "c'est une véritable ministre qui prie pour les personnes souffrantes dans le monde.";
		mes "Mais la dernière fois que je l'ai vue, elle semblait triste.";
		next;
		mes "[Prêtre Dayan]";
		mes "Pouvez-vous la convaincre de faire un pèlerinage à Yggdrasil ?";
		mes "Je pense qu'elle est épuisée à force de prier trop.";
		mes "J'espère que l'air d'Yggdrasil lui sera utile.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Ne vous inquiétez pas.";
		mes "J'irai la voir et la rencontrer.";
		next;
		mes "[Prêtre Dayan]";
		mes "Merci beaucoup.";
		mes "N'hésitez pas à venir ici quand vous voulez prier, "+(Sex == SEX_MALE?"frère.":"sœur.");
		mes "Une visite d'un ami me rend toujours heureux.";
		set job_arch,4;
		changequest 2188,2189;
		close;
	}
	mes "[Dayan]";
	mes "Avez-vous trouvé Vinue à Hugel ? Comment va-t-elle ?";
	close;
}

yggdrasil01,220,47,0	script	#arch_pilgrimage	139,5,5,{
OnTouch:
	if (job_arch == 2) {
		mes "[" + strcharinfo(0) + "]";
		mes "Est-ce la source de Hvergelmir ?";
		mes "Cet endroit est très vivant et paisible.";
		mes "Il est approprié de prier.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Le moment de fléchir les genoux...";
		mes "Le moment de commencer...";
		mes "Hmm, que m'a dit ce prêtre ?";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Hmm... Quelle est la première voie ?";
		next;
		switch(select("La voie du silence.:La voie de la confession.:La voie de la méditation.")) {
		case 1:
			mes "[" + strcharinfo(0) + "]";
			mes "La voie du silence... ?";
			mes "Je ne pense pas.";
			close;
		case 2:
			mes "[" + strcharinfo(0) + "]";
			mes "La voie de la confession... ?";
			mes "Je ne pense pas.";
			close;
		case 3:
			mes "[" + strcharinfo(0) + "]";
			mes "La voie de la méditation... ?";
			mes "Oui, c'est la voie de la méditation.";
			next;
		}
		mes "^3131FF[Prêtre Dayan]^000000";
		mes "^3131FFLa 1ère voie est la voie de la méditation.^000000";
		mes "^3131FFDans la voie de la méditation, nous devons être prêts à saluer Odin avec une conscience claire.^000000";
		next;
		mes "^3131FF[Prêtre Dayan]^000000";
		mes "^3131FFLa méditation commence par une Bénédiction qui apaise votre esprit.^000000";
		next;
		mes "- Vous fermez lentement les yeux et prenez une profonde respiration. -";
		next;
		mes "- * BÉNÉDICTION ! * -";
		specialeffect2 EF_BLESSING;
		next;
		mes "Votre esprit est rafraîchi par l'effet de la bénédiction.";
		mes "Vous continuez à méditer en essayant de vous débarrasser de tout sentiment négatif.";
		next;
		mes "^3131FF[Prêtre Dayan]^000000";
		mes "^3131FFLa 2e voie est la voie de l'agonie.^000000";
		mes "^3131FFÀ travers la voie de l'agonie, nous nous réfléchissons sur nous-mêmes en confessant nos fautes passées.^000000";
		next;
		mes "^3131FF[Prêtre Dayan]^000000";
		mes "^3131FFN'ayez pas peur de la douleur. C'est une nécessité et sera la première étape pour entrer dans une voie pour liquider les blessures du passé.^000000";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "La douleur... Quel genre de fautes ai-je commises ?";
		input .@inputstr$;
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Je confesse ma culpabilité au Tout-Puissant Dieu Odin.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "^3131FF" + .@inputstr$ + ".^000000";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Ô Odin bienveillant, prends pitié de moi car je suis négligent dans l'accomplissement de mes devoirs de ministre.";
		mes "S'il te plaît, guide-moi et sauve un ministre insensé avec ta sagesse.";
		next;
		mes "Vous méditez sur votre confession et êtes perdu dans vos pensées à nouveau.";
		next;
		mes ".............................";
		next;
		mes ".............................";
		mes ".........................";
		next;
		mes ".............................";
		mes ".........................";
		mes ".....................";
		next;
		mes "^3131FF[Prêtre Dayan]^000000";
		mes "^3131FFLa 3e voie est la voie de la joie.^000000";
		mes "^3131FFÀ mesure que vous vous débarrasserez de la douleur, votre esprit souffrira moins et vous éprouverez la joie de vivre en aidant et en consolant les autres.^000000";
		next;
		mes "^3131FF[Prêtre Dayan]^000000";
		mes "^3131FFEt aussi, ils vous béniront car vous êtes une existence de joie qui surmonte l'affliction. Nous appelons cela Aspersio^000000.";
		mes "^3131FFVous devez boire une Eau Sainte avec gratitude pour Aspersio.^000000";
		next;
		mes "^3131FF[Prêtre Dayan]^000000";
		mes "^3131FFVous buvez l'Eau Sainte.^000000";
		next;
		if (countitem(523) == 0) {
			mes "[" + strcharinfo(0) + "]";
			mes "Oh non ! J'ai oublié d'apporter de l'Eau Sainte !";
			close;
		}
		mes "- Vous vous inclinez respectueusement en tenant une Eau Sainte et portez le verre à vos lèvres. -";
		next;
		mes "- * ASPERSIO ! * -";
		specialeffect2 EF_ASPERSIO;
		next;
		specialeffect2 EF_RECOVERY;
		mes ".............................";
		next;
		mes ".............................";
		mes ".........................";
		next;
		mes ".............................";
		mes ".........................";
		mes ".....................";
		next;
		mes "^3131FF[Prêtre Dayan]^000000";
		mes "^3131FFLa dernière voie est la voie de la lumière.^000000";
		mes "^3131FFVous êtes libéré de tout péché car vous avez été béni dès la création.^000000";
		next;
		mes "^3131FF[Prêtre Dayan]^000000";
		mes "^3131FFVous êtes né à nouveau comme la lumière, chantez un Gloria de joie et d'âme qui vous aime.^000000";
		next;
		mes "- Vous inspirez profondément et commencez à chanter un Gloria.";
		mes "Un accord résonne dans la source de Hvergelmir et le bruit d'une cascade vous procure une sensation rafraîchissante. -";
		specialeffect2 EF_GLORIA;
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "~Descendants d'Heimdal, rassemblez-vous sous l'Arbre Yggdrasil.~";
		mes "~L'oiseau Curdan assis sur une branche m'apporte la sagesse du monde entier.~";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "~Le loup Curdan me protège de toutes les menaces du monde.~";
		specialeffect2 EF_GLORIA;
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "~L'armée de ballascalf, levez-vous de votre siège. Le monde entier crie de joie.~";
		mes "~Le père de la lumière, le poète de la sagesse, chante pour moi.~";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "~L'armée de verre scintillant, donnez-moi une sainte prédiction.~";
		specialeffect2 EF_GLORIA;
		next;
		mes "- Après avoir terminé la chanson, vous vous sentez léger et fort, empli de dévotion. -";
		specialeffect2 EF_BLESSING;
		specialeffect2 EF_RESURRECTION;
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "C'était rafraîchissant.";
		mes "Je suppose que je devrais retourner voir le Prêtre Dayan.";
		set job_arch,3;
		close2;
		warp "umbala",138,219;
		end;
	} else if (job_arch == 3) {
		mes "[" + strcharinfo(0) + "]";
		mes "La chanson est terminée. Il est temps de retourner voir le Prêtre Dayan.";
		close2;
		warp "umbala",138,219;
		end;
	}
	end;
}

hu_in01,205,204,7	script	Praying Nun#benew	79,{
	if (job_arch == 4) {
		mes "- Il y a une nonne qui ferme les yeux en murmurant quelque chose qui ressemble à une prière. -";
		next;
		if (select("Lui parler.:Rester silencieux.") == 2) {
			mes "- Vous n'avez pas envie de la déranger -";
			close;
		}
		mes "[" + strcharinfo(0) + "]";
		mes "Um, bonjour sœur ?";
		next;
		mes "[Vinue]";
		mes "Ah, bienvenue.";
		mes "Ce n'est pas encore l'heure de la messe...";
		mes "Êtes-vous ici pour prier, "+(Sex == SEX_MALE?"frère":"sœur")+" ?";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Je suis venu ici pour vous saluer de la part du Prêtre Dayan de Prontera.";
		next;
		mes "[Vinue]";
		mes "Ah, le Prêtre Dayan.";
		mes "Il va bien ?";
		mes "Il est si mignon même s'il est vieux.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Il m'a dit qu'il s'inquiétait car la dernière fois qu'il vous a vue, vous aviez l'air triste.";
		mes "Il vous demande de partir en Pèlerinage Sacré.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Umbala a le pouvoir vital de la nature !";
		next;
		mes "[Vinue]";
		mes "Ah...";
		mes "Il est très gentil. Tout comme vous, "+(Sex == SEX_MALE?"frère":"sœur")+".";
		next;
		mes "[Vinue]";
		mes "Mais ne vous inquiétez pas.";
		mes "Je suis juste un peu fatiguée à cause d'un mauvais rêve.";
		next;
		mes "[Vinue]";
		mes "Le mal veille toujours sur nos âmes.";
		mes "Si vous êtes indifférent à la prière, il ne manque jamais une opportunité.";
		next;
		if (select("Un rêve ? Quel genre de rêve ?:Votre âme devrait être bien.") == 2) {
			mes "[Vinue]";
			mes "Oh, mais c'est là que vous vous trompez.";
			mes "Mon âme peut être la plus en danger.";
			mes "Merci d'avoir transmis le message.";
			mes "Je vais retourner à ma prière.";
			close;
		}
		mes "[Vinue]";
		mes "C'est que...";
		mes "En fait, j'ai commencé à faire un mauvais rêve depuis la date où j'ai été nommée.";
		next;
		mes "[Vinue]";
		mes "Au début, c'était un rêve où la Valkyrie était triste et dans l'obscurité.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Valkyrie ?";
		next;
		mes "[Vinue]";
		mes "Oui...";
		mes "Elle pleurait dans une pièce complètement noire.";
		mes "Pendant que sa descente ressemblait à celle d'un oiseau à qui on avait coupé les ailes.";
		next;
		mes "[Vinue]";
		mes "Mais, avec le temps, le rêve est devenu de plus en plus effrayant. Maintenant, la Valkyrie est enchaînée et finalement elle est réduite en morceaux.";
		next;
		mes "[Vinue]";
		mes "Quelle cruelle mise en scène ! Soudain, je ne peux plus respirer correctement, puis je me réveille.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Devoir assister à la mort de la Valkyrie doit être un rêve éprouvant.";
		next;
		mes "[Vinue]";
		mes "Est-ce juste un cauchemar ?";
		mes "Ou pensez-vous que c'est un présage ?";
		next;
		mes "[Vinue]";
		mes "J'ai voulu prier au sanctuaire d'Odin pour chasser ce rêve. Mais ce sanctuaire est devenu un repaire du mal il y a bien longtemps.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Le sanctuaire ?";
		mes "Personne n'a essayé de vaincre le mal ?";
		next;
		mes "[Vinue]";
		mes "Malheureusement, je suis une nonne qui n'a aucune compétence en exorcisme...";
		mes "Les habitants de Hugel étaient simplement horrifiés par la vue car ils ne sont pas familiers avec l'aventure.";
		next;
		mes "[Vinue]";
		mes "De nos jours, il y a beaucoup de gens en raison du développement du sanctuaire d'Odin, mais leur situation n'est pas si bonne.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Le rêve est-il lié au mal dans le sanctuaire d'Odin ?";
		next;
		mes "[Vinue]";
		mes "Hum... eh bien.";
		mes "Je n'ai aucun moyen de le savoir.";
		mes "Je n'ai pas de méthode, alors je prie simplement.";
		next;
		if (select("Je vais enquêter pour vous.:Je vais prier avec vous.") == 2) {
			mes "[Vinue]";
			mes "Merci.";
			mes "Je vais prier pour que les ténèbres restent à distance.";
			mes "J'espère que vous passerez un bon moment avec la fête ici à Hugel.";
			close;
		}
		mes "[Vinue]";
		mes "Vraiment ?";
		mes "Mais, l'intérieur sera effrayant !";
		mes "Il y a beaucoup de démons à l'intérieur !";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Mais je ne peux pas faire semblant d'ignorer une Sœur en difficulté ?";
		mes "Je suis un ministre qui fait face à beaucoup d'ascèse !";
		mes "Confiez-moi.";
		next;
		mes "[Vinue]";
		mes "Ah... J'ai tellement peur...";
		mes "Je n'oublierai jamais votre cœur chaleureux.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Comment puis-je me rendre au sanctuaire d'Odin ?";
		next;
		mes "[Vinue]";
		mes "Il y a un ferry sur le côté droit de l'église.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "D'accord, attendez de bonnes nouvelles !";
		next;
		mes "[Vinue]";
		mes "Je vais prier pour votre retour en toute sécurité.";
		mes "J'espère qu'Odin vous protégera également.";
		set job_arch,5;
		changequest 2189,2190;
		close;
	} else if ((job_arch > 4) && (job_arch < 100)) {
		mes "[Vinue]";
		mes "Je vais prier pour votre retour en toute sécurité.";
		close;
	}
	mes "[Vinue]";
	mes "Je me sens rafraîchie.";
	mes "C'est sûrement une bonne nouvelle ?";
	mes "Remerciez les Dieux.";
	close;
}

odin_tem02,282,263,0	script	#find_val	139,3,3,{
OnTouch:
	if ((job_arch > 4) && (job_arch < 100))
		hideoffnpc "Valkyrie Illusion#arch";
	end;
}

odin_tem02,281,275,3	script	Valkyrie Illusion#arch	403,{
	if ((job_arch > 4) && (job_arch < 100)) {
		mes "Vous pouvez voir la Valkyrie qui a un visage désespéré.";
		next;
		switch(select("Toucher l'illusion de Valkyrie : Détourner le regard.")) {
		case 1:
			mes "Vous perdez conscience en vous approchant de l'illusion de la Valkyrie.";
			close2;
			specialeffect2 EF_CLOAKING;
			warp "job3_arch01",29,29;
			hideonnpc "Valkyrie Illusion#arch";
			end;
		case 2:
			mes "De peur, vous détournez le regard de l'illusion de la Valkyrie.";
			close2;
			hideonnpc "Valkyrie Illusion#arch";
			end;
		}
	}
	end;
OnInit:
	hideonnpc "Valkyrie Illusion#arch";
	end;
}

job3_arch01,29,34,3	script	Valkyrie#arch	403,{
	if (checkweight(1201, 1) == 0 || (MaxWeight - Weight) < 2000) {
		mes "- Attendez une seconde ! -";
		mes "- Vous portez trop d'objets, -";
		mes "- vous ne pourrez pas obtenir de nouveaux objets. -";
		mes "- Veuillez enlever quelques objets -";
		mes "- et revenez pour relever le défi. -";
		close;
	}
	if ((BaseLevel != 99) || (JobLevel < 50) || (BaseJob != Job_Priest)) {
		warp "odin_tem02", 282, 263;
		end;
	}
	if (getmercinfo(1)) {
		mes "[Valkyrie]";
		mes "Si vous voulez parler avec moi, vous devez ^3131FFrésilier tous les contrats^000000 avec vos mercenaires.";
		close;
	}
	if (SkillPoint) {
		mes "Vous ne pouvez pas progresser sans utiliser tous vos points de compétence. Veuillez utiliser tous vos points de compétence avant de continuer~";
		close;
	}
	if (Class != Job_Priest && Class != Job_High_Priest && Class != Job_Baby_Priest) {
		warp "odin_tem02", 282, 263;
		end;
	} else if (Class != Job_Arch_Bishop && Class != Job_Arch_Bishop_T && Class != Job_Baby_Arch_Bishop) {
		if (job_arch < 5) {
			warp "odin_tem02", 282, 263;
			end;
		} else if (job_arch == 5) {
			mes "[Valkyrie]";
			mes "Dans les cieux, le son des flûtes se répand, mais un oiseau qui ne peut pas voler rampe et finit par être réduit en morceaux sur le sol.";
			mes "Ah, je ressens de la rancune ! Tellement de regrets !";
			next;
			mes "- Valkyrie se tient la tête, puis elle vous repère et vous fixe du regard d'un air menaçant. -";
			next;
			mes "[Valkyrie]";
			mes "Toi, descendant d'Heimdal vivant dans la douleur en tant que mortel, pourquoi es-tu ici ?";
			mes "Es-tu ici pour te moquer de mon destin funeste ?";
			next;
			mes "[" + strcharinfo(0) + "]";
			mes "Absolument pas !";
			mes "Mais c'est vrai que je suis ici pour toi.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "...moi ?";
			mes "Bien sûr, je suis restée à Midgard, mais nous sommes sous le joug du destin et ne pouvons pas coexister dans ce monde.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "Je vois, ton but est-il d'entrer à Valhalla ?";
			mes "Si c'est le cas, tu es au mauvais endroit.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "J'ai déjà été expulsée d'Asgard.";
			mes "Ma mission est de protéger cette petite île des humains qui essaient de la prendre aux dieux, mais je n'ai même pas l'énergie pour le faire.";
			next;
			mes "[" + strcharinfo(0) + "]";
			mes "Ce n'est pas ce genre de problème.";
			mes "Mais quelqu'un qui comprend ta situation douloureuse m'a envoyé ici.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "Haha ! Tu viens m'aider ?!";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "...................";
			next;
			mes "- Valkyrie vous lance un regard féroce. -";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "En fait, je ne peux rien faire avec mon corps maintenant.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "Humain, réponds-moi. Es-tu ici pour m'aider sincèrement ?";
			next;
			if (select("Oui:Non") == 2) {
				mes "[Valkyrie Anguhilde]";
				mes "Je savais que je ne pouvais pas faire confiance à un humain !";
				close2;
				warp "odin_tem02", 282, 263;
				end;
			}
			mes "[Valkyrie Anguhilde]";
			mes "D'accord...";
			mes "Je n'ai plus d'énergie pour me soutenir, alors je n'ai pas d'autre choix que de te faire confiance.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "J'étais une Valkyrie normale qui conduisait les soldats à Valhalla selon l'ordre d'Odin.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "Mais j'ai blessé Freki, l'un des loups d'Odin, et j'ai été expulsée d'Asgard sans aucune énergie en tant que Valkyrie chargée de protéger cette île.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "J'ai été déshonorée, cette île est importante en tant que temple pour Odin et les divers dieux.";
			mes "J'ai essayé de faire de mon mieux pour protéger ce lieu saint.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "Mais un jour, le diable a commencé à gagner de l'influence sur cette île.";
			mes "Je ne sais pas pourquoi ils sont venus ici et d'où ils viennent.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "Ils ont assiégé le temple et j'ai épuisé mon énergie en essayant de les combattre seule.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "Le sanctuaire sacré a été souillé par les démons.";
			mes "Combien de temps dois-je subir ce destin déshonorant !";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "Humain, comment t'appelles-tu ?";
			next;
			mes "[" + strcharinfo(0) + "]";
			mes "Je m'appelle " + strcharinfo(0) + ".";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "" + strcharinfo(0) + ",";
			mes "Tu m'as dit que tu voulais m'aider, n'est-ce pas ? Même si cela me déshonore, je te demande de l'aide.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "Cet endroit peut sembler avoir été créé par des humains. En réalité, c'est un monument très important et aussi une partie de l'histoire des dieux.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "J'ai perdu toute mon énergie et mon corps est scellé, alors je n'ai aucun moyen de protéger le sanctuaire.";
			mes "Tu dois envoyer un message à Valhalla pour demander de l'aide à une Valkyrie rapidement.";
			next;
			select("Comment puis-je faire ça ?");
			mes "[Valkyrie Anguhilde]";
			mes "Au sommet du sanctuaire, tu peux les contacter avec un ^3131FFtuyau doré^000000.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "Je vais te donner un parchemin écrit dans une langue ancienne.";
			mes "Dans ce parchemin, il y a mon impersonation.";
			mes "^3131FFSi tu sors, tu pourras invoquer une Valkyrie avec ce parchemin.^000000";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "Une fois que tu auras invoqué mon impersonation, tu devras trouver un ^3131FFtuyau brisé^000000.";
			mes "Il pourrait être dispersé dans le sanctuaire...";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "Tu devras monter au sommet du sanctuaire en collectant tous les tuyaux cassés de l'impersonation.";
			mes "Ensuite, je m'occuperai de la situation.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "Une impersonation t'aidera lorsque tu bougeras ou attaqueras comme tu le souhaites en faisant un clic avec ^FF0000ALT^000000.";
			mes "Mais tu devras faire attention si une impersonation tombe.";
			next;
			mes "[Valkyrie Anguhilde]";
			mes "Lorsque tu auras terminé de te préparer, reparle-moi.";
			mes "Ce sera un long voyage...";
			set job_arch, 6;
			close;
		} else if (job_arch == 6) {
			if ($@archbs == 0) {
				set $@archbs, 1;
				mes "[Valkyrie Anguhilde]";
				mes "" + strcharinfo(0) + " As-tu terminé de te préparer pour ton chemin d'ascèse ?";
				next;
				if (getmapusers("job3_arch02") > 0) {
					mes "[Valkyrie Anguhilde]";
					mes "Hmm, quelqu'un combat actuellement le diable dans le sanctuaire.";
					mes "Attends un instant pendant que je découvre qui c'est.";
					set $@archbs, 0;
					close;
				}
				mes "[Valkyrie Anguhilde]";
				mes "D'accord. Maintenant je vais t'envoyer là-bas.";
				mes "^FF0000Quand tu iras là-bas, tu devras invoquer mon impersonation avec le parchemin^000000. N'oublie pas.";
				set $@archbs, 0;
				close2;
				nude;
				if (countitem(2798))
					delitem 2798, countitem(2798); //Will_Of_Exhausted_Angel
				donpcevent "start#arch::OnEnable";
				set job_arch, 7;
				changequest 2190, 2191;
				warp "job3_arch02", 119, 49;
				hideonnpc "Valkyrie#arch";
				end;
			}
			mes "[Valkyrie Anguhilde]";
			mes "Je parle actuellement avec une autre personne, donne-moi une seconde.";
			close;
		} else if (job_arch == 7) {
			if (countitem(12381)) delitem 12381, countitem(12381); //ValkyrieA_Scroll
			if (countitem(12382)) delitem 12382, countitem(12382); //ValkyrieB_Scroll
			if ($@archbs == 0) {
				set $@archbs, 1;
				mes "[Valkyrie Anguhilde]";
				mes "Es-tu en état, humain ?";
				mes "Ce n'était pas aussi facile que je le pensais.";
				mes "Veux-tu relever le défi à nouveau ?";
				next;
				if (getmapusers("job3_arch02") > 0) {
					set $@archbs, 0;
					mes "[Valkyrie Anguhilde]";
					mes "Hmm, quelqu'un combat actuellement le diable dans le sanctuaire.";
					mes "Attends un instant pendant que je découvre qui c'est.";
					close;
				}
				set $@archbs, 0;
				mes "[Valkyrie Anguhilde]";
				mes "D'accord. Maintenant je vais t'envoyer là-bas.";
				mes "^FF0000Quand tu iras là-bas, tu devras invoquer mon impersonation avec le parchemin^000000.";
				mes "Une impersonation t'aidera lorsque tu bougeras ou attaqueras comme tu le souhaites en faisant un clic avec ^FF0000ALT^000000.";
				mes "Mais tu devras faire attention si une impersonation tombe.";
				close2;
				nude;
				if (countitem(2798))
					delitem 2798, countitem(2798); //Will_Of_Exhausted_Angel
				donpcevent "start#arch::OnEnable";
				set job_arch, 7;
				warp "job3_arch02", 119, 49;
				hideonnpc "Valkyrie#arch";
				end;
			}
			mes "[Valkyrie Anguhilde]";
			mes "Je parle actuellement avec une autre personne, donne-moi une seconde.";
			close;
		}
	}
	end;
OnBc:
	set $@archbs,0;
	mapannounce "job3_arch01","Valkyrie : Je pense que quelqu'un est tombé dans le sanctuaire. J'entends le rire désagréable du diable.",bc_map,"0xFFCE00";
	hideoffnpc "Valkyrie#arch";
	end;
}

job3_arch02,119,49,0	script	#arch_1_start	139,6,6,{
OnTouch:
	if (countitem(12381) == 0)
		getitem 12381,1; //ValkyrieA_Scroll
	mapannounce "job3_arch02","Chuchotement d'une sans âmes : je me sens lourd ! Me libérer!",bc_map,"0xFFCE00";
	disablenpc "#arch_1_start";
	end;
}

-	script	#arch_1_01_0::archbjcq	-1,{
OnTouch:
	if (countitem(12381)) {
		delitem 12381,1; //ValkyrieA_Scroll
		// fall through
	} else if (getmercinfo(1) == 2037) {
		if (strnpcinfo(0) == "#arch_1_10")
			viewpoint 1,113,327,1,0xFF9900;
		set .@randht, rand(1,10);
		if (.@randht < 8)
			mapannounce "job3_arch02","Chuchotement d'une sans âme: Je peux sentir les esprits du diable ! Sois prudent!",bc_map,"0xFFCE00";
		else if ((.@randht == 8) || (.@randht == 9))
			mapannounce "job3_arch02","Chuchotement d'une sans âme: Ils arrivent!",bc_map,"0xFFCE00";
		end;
	}
	mapannounce "job3_arch02","Chuchotement d'une sans âme : vous ne pouvez rien faire par vous-même !",bc_map,"0xFFCE00";
	mapwarp "job3_arch02","job3_arch01",29,29;
	end;
}
job3_arch02,112,73,0	duplicate(archbjcq)	#arch_1_01	139,5,5
job3_arch02,94,123,0	duplicate(archbjcq)	#arch_1_02	139,5,5
job3_arch02,93,173,0	duplicate(archbjcq)	#arch_1_03	139,5,5
job3_arch02,114,186,0	duplicate(archbjcq)	#arch_1_04	139,5,5
job3_arch02,134,201,0	duplicate(archbjcq)	#arch_1_05	139,5,5
job3_arch02,154,211,0	duplicate(archbjcq)	#arch_1_06	139,5,5
job3_arch02,175,227,0	duplicate(archbjcq)	#arch_1_07	139,5,5
job3_arch02,201,240,0	duplicate(archbjcq)	#arch_1_08	139,5,5
job3_arch02,223,252,0	duplicate(archbjcq)	#arch_1_09	139,5,5
job3_arch02,255,268,0	duplicate(archbjcq)	#arch_1_10	139,5,5
job3_arch02,269,302,0	duplicate(archbjcq)	#arch_1_11	139,5,5
job3_arch02,245,289,0	duplicate(archbjcq)	#arch_1_12	139,5,5

job3_arch02,203,286,0	script	#arch_1_boss	139,5,5,{
OnTouch:
	if (countitem(12381)) {
		delitem 12381,1; //ValkyrieA_Scroll
		// fall through
	} else if (getmercinfo(1) == 2037) {
		mapannounce "job3_arch02","Le Cauchemar de Valkyrie : Une illusion incompétente de Valkyrie est arrivée ici avec l'aide des humains. Tu veux faire ce cauchemar ?",bc_map,"0xFF0000";
		donpcevent "mob#arch_1::OnKill";
		end;
	}
	mapannounce "job3_arch02","Chuchotement d'une sans âme: Vous ne pouvez rien faire tout seul !!",bc_map,"0xFFCE00";
	mapwarp "job3_arch02","job3_arch01",29,29;
	end;
}

-	script	#arch_redcell	-1,{
OnInit:
	setcell "job3_arch02",276,290,280,294,cell_walkable,0;
	setcell "job3_arch02",276,290,280,294,cell_shootable,0;
	end;
OnGreen:
	setcell "job3_arch02",276,290,280,294,cell_walkable,1;
	setcell "job3_arch02",276,290,280,294,cell_shootable,1;
	end;
OnRed:
	setcell "job3_arch02",276,290,280,294,cell_walkable,0;
	setcell "job3_arch02",276,290,280,294,cell_shootable,0;
	end;
}

job3_arch02,390,389,1	script	#arch_val01	844,{
	end;
OnEnable:
	areamonster "job3_arch02",108,322,118,332,"Valkyrie's Nightmare",2036,1,"#arch_val01::OnMyMobDead";
	end;
OnMyMobDead:
	if (mobcount("job3_arch02","#arch_val01::OnMyMobDead") < 1) {
		donpcevent "#arch_redcell::OnGreen";
		mapannounce "job3_arch02","Valkyrie's Nightmare : Votre victoire n'est qu'une fausse image ! hahahaha!",bc_map,"0xFF0000";
		hideoffnpc "Valkyrie#arch_01";
		disablenpc "#arch_1_start";
		disablenpc "#arch_1_01";
		disablenpc "#arch_1_02";
		disablenpc "#arch_1_03";
		disablenpc "#arch_1_04";
		disablenpc "#arch_1_05";
		disablenpc "#arch_1_06";
		disablenpc "#arch_1_07";
		disablenpc "#arch_1_08";
		disablenpc "#arch_1_09";
		disablenpc "#arch_1_10";
		disablenpc "#arch_1_11";
		disablenpc "#arch_1_12";
		disablenpc "#arch_1_boss";
	}
	end;
OnKill:
	killmonster "job3_arch02","#arch_val01::OnMyMobDead";
	end;
}

job3_arch02,390,387,1	script	#arch_val02	844,{
	end;
OnEnable:
	areamonster "job3_arch02",239,41,249,51,"Valkyrie's Nightmare",2036,1,"#arch_val02::OnMyMobDead";
	end;
OnMyMobDead:
	if (mobcount("job3_arch02","#arch_val02::OnMyMobDead") < 1) {
		mapannounce "job3_arch02","Valkyrie's Nightmare: Vous êtes tellement enfantin. Je vous invite à une fête du diable. Je veillerai à ce que vous vous amusiez !",bc_map,"0xFF0000";
		hideoffnpc "Valkyrie#arch_02";
		disablenpc "#arch_2_boss";
		viewpoint 1,279,234,1,0xFFFF99;
	}
	end;
OnKill:
	killmonster "job3_arch02","#arch_val02::OnMyMobDead";
	end;
}

job3_arch02,113,327,5	script	Valkyrie#arch_01	403,{
	if (getmercinfo(1)) {
		mes "[Valkyrie]";
		mes "Si tu veux parler avec moi, tu dois ^3131FFannuler tous les contrats^000000 avec tous les mercenaires que tu as.";
		close;
	}
	mes "[Valkyrie Anguhilde]";
	mes "Le diable fait toujours des efforts pour agiter l'esprit des gens.";
	mes "Tu n'as pas à te soucier de leurs murmures.";
	next;
	mes "[Valkyrie Anguhilde]";
	mes "De toute façon, je sens que mon énergie revient.";
	mes "Montre-moi les objets que tu as trouvés.";
	next;
	mes "- Tu montres un morceau de tuyau en or à Valkyrie. -";
	next;
	mes "[Valkyrie Anguhilde]";
	mes "Oh, c'est un morceau de tuyau !";
	mes "Si tu collectes des morceaux, tu pourras demander de l'aide à d'autres Valkyries.";
	next;
	mes "[Valkyrie Anguhilde]";
	mes "En raison d'un combat intense, j'ai pu récupérer un peu d'énergie.";
	mes "Je vais te donner un ^3131FFnouveau parchemin ancien^000000.";
	mes "Il te sera utile pour trouver le reste des morceaux.";
	next;
	mes "[Valkyrie Anguhilde]";
	mes "Alors, je suis impatiente d'avoir de bonnes nouvelles.";
	close2;
	getitem 12382, 1; //ValkyrieB_Scroll
	viewpoint 1, 244, 46, 1, 0xFFFF99;
	hideonnpc "Valkyrie#arch_01";
	donpcevent "#arch_2_start::OnEnable";
	end;
}

job3_arch02,244,46,5	script	Valkyrie#arch_02	403,{
	mes "[Valkyrie Anguhilde]";
	mes "As-tu trouvé le reste des morceaux ?";
	next;
	if (countitem(6154) < 2) {
		mes "[Valkyrie Anguhilde]";
		mes "Hum ?";
		mes "Je peux voir celui-ci à côté de toi.";
		getitem 6154, 2; //Broken_Horn_Pipe
		next;
	}
	mes "[Valkyrie Anguhilde]";
	mes "D'accord.";
	mes "Je vais réparer le tuyau de corne cassé !";
	next;
	mes "[Valkyrie Anguhilde]";
	mes "Mais la bataille n'est pas encore terminée.";
	mes "Tu te souviens d'un ^3131FFsanctuaire en ruine au centre de l'île^000000 ?";
	mes "Il ne sera achevé que lorsque tu utiliseras un tuyau de corne.";
	next;
	mes "[Valkyrie Anguhilde]";
	mes "Je sens que l'air autour de moi devient impur.";
	mes "Et je ressens la froideur de l'obscurité d'un noir profond.";
	mes "Cette fois, ça sera dangereux.";
	next;
	mes "[Valkyrie Anguhilde]";
	mes "Je te donne un collier en cadeau.";
	mes "Mais je ne suis pas sûre que cela sera utile ou non....";
	mes "Prends soin de toi.";
	mes "S'il te plaît, dépêche-toi !";
	close2;
	getitem 2798, 1; //Will_Of_Exhausted_Angel
	hideonnpc "Valkyrie#arch_02";
	donpcevent "#arch_3_start::OnEnable";
	end;
}

job3_arch02,279,234,0	script	#arch_end	139,7,7,{
	end;
OnTouch:
	donpcevent "#arch_3_01::OnKill";
	donpcevent "#arch_3_02::OnKill";
	donpcevent "#arch_3_03::OnKill";
	donpcevent "mob#arch_2::OnKill";
	hideoffnpc "Valkyrie Anguhilde#end";
	if (checkweight(1201, 1) == 0 || (MaxWeight - Weight) < 2000) {
		mes "- Attendez une seconde ! -";
		mes "- Vous transportez trop d'objets, -";
		mes "- vous ne pourrez pas obtenir de nouveaux objets. -";
		mes "- Veuillez enlever certains objets -";
		mes "- et revenir pour le défi. -";
		close;
	}
	if (ismounting()) {
		mes "Vous êtes sur une monture,";
		mes "donc vous ne pouvez pas changer de job.";
		mes "Veuillez déséquiper votre monture et réessayer !";
		close;
	}
	if (countitem(6154) < 2) {
		mes "[Valkyrie Anguhilde]";
		mes "As-tu collecté tous les morceaux de ma corne de corne ?";
		next;
		mes "[Valkyrie Anguhilde]";
		mes "Je sais que tu t'es donné beaucoup de mal pour m'aider, mais je ne peux rien faire sans 2 morceaux de corne de corne.";
		next;
		mes "[Valkyrie Anguhilde]";
		mes "Cela peut être dangereux, alors retournons.";
		close2;
		nude;
		if (countitem(2798))
			delitem 2798, countitem(2798); //Will_Of_Exhausted_Angel
		delitem 6154, countitem(6154); //Broken_Horn_Pipe
		mapwarp "job3_arch02", "job3_arch01", 29, 29;
		end;
	}
	mes "[Valkyrie Anguhilde]";
	mes "Enfin, nous avons terminé toutes les préparations.";
	next;
	mes "Valkyrie tient le tuyau et souffle vers le ciel.";
	next;
	mes "Booo - - - -";
	next;
	mes "Booo - - -";
	next;
	hideoffnpc "Valkyrie des cieux";
	mes "[Valkyrie Anguhilde]";
	mes "Assistance d'Odin ! Soldats de Valhalla !";
	mes "Le lieu saint du dieu Odin est souillé par les ténèbres !";
	next;
	mes "[Valkyrie des cieux]";
	mes "Ne t'inquiète pas, Anguhilde.";
	mes "Ton désir est parvenu à Valhalla.";
	mes "Les démons ont été éliminés par d'autres Valkyries comme tu le voulais.";
	next;
	mes "[Valkyrie Anguhilde]";
	mes "Valkyries ! Est-ce que c'est en sécurité maintenant ?";
	next;
	mes "[Valkyrie des cieux]";
	mes "Oui, Anguhilde.";
	mes "Même si tu as été expulsée à cause d'un incident auparavant, Odin a dit qu'il réexaminait ton bannissement.";
	next;
	mes "[Valkyrie Anguhilde]";
	mes "Ah ! Je peux retourner à Asgard !";
	next;
	mes "[Valkyrie des cieux]";
	mes "Ne tire pas de conclusions hâtives.";
	mes "Mais je pense que de bonnes nouvelles te seront envoyées.";
	next;
	mes "[Valkyrie Anguhilde]";
	mes "Honneur à Odin !";
	mes "Je me sens plein de grâce.";
	mes "Si lumineux et chaud....";
	next;
	mes "- Shoooo -";
	specialeffect EF_CLOAKING, AREA, "Valkyrie Anguhilde#end";
	hideonnpc "Valkyrie Anguhilde#end";
	emotion ET_HUK, playerattached();
	next;
	mes "[Valkyrie des cieux]";
	mes "Apaise ton esprit.";
	mes "Elle est allée là où elle devait aller.";
	next;
	mes "[Valkyrie des cieux]";
	mes "Je pense que tu ne comprends pas.";
	next;
	mes "[Valkyrie des cieux]";
	mes "Anguhilde est une Valkyrie décédée il y a longtemps.";
	mes "N'as-tu pas vu un sanctuaire envahi par les démons ?";
	mes "Malheureusement, Anguhilde n'a pas pu faire face à la tâche et est tombée.";
	next;
	mes "[Valkyrie des cieux]";
	mes "Ici, c'est une illusion d'Anguhilde qui ne veut pas être reconnue.";
	mes "Elle ne peut pas aller en enfer même après sa mort, et lutte contre ses cauchemars constants.";
	next;
	mes "[Valkyrie des cieux]";
	mes "Mais elle est soulagée par ta faveur.";
	mes "Même si c'est différent de la réalité, maintenant elle pourra peut-être reposer en paix.";
	next;
	mes "[Valkyrie des cieux]";
	mes "Humain, les Valkyries te sont redevables. Merci.";
	mes "Je ne peux pas t'inviter comme je le souhaite, mais le pouvoir donné par Odin peut t'aider.";
	next;
	mes "[Valkyrie des cieux]";
	mes "Maintenant, retourne dans ton monde.";
	mes "Le son de la corne de corne et les chants d'oiseaux seront pour toi.";
	next;
	if (SkillPoint) {
		mes "Tu ne peux pas progresser sans utiliser tous tes points de compétence. Utilise tous tes points de compétence avant de progresser~";
		close;
	}
	mes "[Valkyrie des cieux]";
	mes "N'oublie pas un esprit altruiste de ministre comme aujourd'hui pour toujours.";
	mes "J'espère que nous nous retrouverons à Valhalla un jour.";
	nude;
	if (countitem(2798))
		delitem 2798, countitem(2798); //Will_Of_Exhausted_Angel
	delitem 6154, countitem(6154); //Broken_Horn_Pipe
	set job_arch, 100;
	completequest 2191;
	getitem 5747, 1; //Mitra
	getitem 2795, 1; //Green_Apple_Ring
	jobchange roclass(eaclass()|EAJL_THIRD);
	close;
OnInit:
	disablenpc "#arch_end";
	end;
}

job3_arch02,281,232,1	script	Valkyrie Anguhilde#end	403,{
	end;
OnInit:
	hideonnpc "Valkyrie Anguhilde#end";
	end;
}

job3_arch02,273,235,5	script	Valkyrie of the heavens	811,{
	if (job_arch == 100) {
		mes "[Valkyrie des cieux]";
		mes "Maintenant, retourne dans ton monde.";
		mes "Le son de la corne de corne et les chants d'oiseaux seront pour toi.";
		next;
		mes "[Valkyrie des cieux]";
		mes "N'oublie pas un esprit altruiste de ministre comme aujourd'hui pour toujours.";
		mes "J'espère que nous nous retrouverons à Valhalla un jour.";
		close2;
		mapwarp "job3_arch02", "job3_arch01", 29, 29;
		end;
	}
	end;
OnInit:
	hideonnpc "Valkyrie of the heavens";
	end;
}

job3_arch02,132,323,0	script	#arch_2_01	139,5,5,{
	end;
OnTouch:
	if (countitem(12382))
		mapannounce "job3_arch02","Chuchotement de Valkyrie: Je vois un nouveau parchemin ancien !",bc_map;
	end;
}

-	script	#arch_2_02_0::archbjcq2	-1,{
OnTouch:
	if (countitem(12382)) {
		delitem 12382,1; //ValkyrieB_Scroll
		// fall through
	} else if (getmercinfo(1) == 2038) {
		set .@randht, rand(1, 10);
		if (.@randht < 8)
			mapannounce "job3_arch02", "Murmure d'une impersonation : Je sens les esprits des démons. Pouvez-vous entendre ? Le bruit de leur rassemblement en foule.", bc_map, "0xFFCE00";
		else if ((.@randht == 8) || (.@randht == 9))
			mapannounce "job3_arch02", "Murmure d'une impersonation : Préparez-vous au combat !", bc_map, "0xFFCE00";
		else
			mapannounce "job3_arch02", "Murmure d'une impersonation : Je ne peux pas te laisser. Meurs !", bc_map, "0xFFCE00";
	}
	mapannounce "job3_arch02", "Murmure d'une impersonation : Tu ne peux rien faire tout seul ! Retournons !", bc_map, "0xFFCE00";

	mapwarp "job3_arch02","job3_arch01",29,29;
	end;
}
job3_arch02,167,313,0	duplicate(archbjcq2)	#arch_2_02	139,5,5
job3_arch02,127,304,0	duplicate(archbjcq2)	#arch_2_03	139,5,5
job3_arch02,207,279,0	duplicate(archbjcq2)	#arch_2_04	139,5,5
job3_arch02,239,281,0	duplicate(archbjcq2)	#arch_2_05	139,5,5
job3_arch02,269,303,0	duplicate(archbjcq2)	#arch_2_06	139,5,5
job3_arch02,288,283,0	duplicate(archbjcq2)	#arch_2_07	139,5,5
job3_arch02,278,234,0	duplicate(archbjcq2)	#arch_2_08	139,5,5
job3_arch02,234,179,0	duplicate(archbjcq2)	#arch_2_09	139,5,5
job3_arch02,227,169,0	duplicate(archbjcq2)	#arch_2_10	139,5,5
job3_arch02,190,146,0	duplicate(archbjcq2)	#arch_2_11	139,5,5

/*
// Not in official script.
job3_arch02,252,267,0	script	#arch_2_12	139,5,5,{
OnTouch:
	mapannounce "job3_arch02","Murmure d'une impersonation :  C'est un carrefour. Allons vers le côté gauche. Je dois retrouver ma pipe.",bc_map,"0xFFCE00";
	end;
}

job3_arch02,250,290,0	script	#arch_2_13	139,5,5,{
OnTouch:
	mapannounce "job3_arch02","Murmure d'une impersonation :  Je peux voir un sanctuaire en ruine. Reposez-vous là-dedans.",bc_map,"0xFFCE00";
	end;
}
*/

job3_arch02,206,113,0	script	#arch_2_boss	139,5,5,{
OnTouch:
	if (countitem(12382)) {
		delitem 12382,1; //ValkyrieB_Scroll
		// fall through
	} else if (getmercinfo(1) == 2038) {
		mapannounce "job3_arch02", "Cri du diable : Tu es tellement enfantin. Je t'invite à une fête de démons. Je vais te faire passer un bon moment !", bc_map, "0xFF0000";
		end;
	}
	mapannounce "job3_arch02", "Murmure d'une impersonation : Tu ne peux rien faire tout seul ! Retournons !", bc_map, "0xFFCE00";
	mapwarp "job3_arch02","job3_arch01",29,29;
	end;
}

job3_arch02,284,159,0	script	#arch_3_01	139,20,20,{
OnTouch:
	if (Class != Job_Priest) {
		mapannounce "job3_arch02","Frus : Veux-tu voir Dieu ? D'accord, je t'enverrai tout seul au pays des morts !",bc_map,"0xFF0000";
		areamonster "job3_arch02",239,41,249,51,"Frus",1762,1,"#arch_3_01::OnMyMobDead";
	}
	disablenpc "#arch_3_01";
	end;
OnMyMobDead:
	end;
OnKill:
	killmonster "job3_arch02","#arch_3_01::OnMyMobDead";
	end;
//OnInit:
//	enablenpc "#arch_3_01";
//	end;
}

job3_arch02,307,200,0	script	#arch_3_02	139,5,5,{
OnTouch:
	if (BaseJob == Job_Priest) {
		mapannounce "job3_arch02","Skogul : Vous êtes mon invité !",bc_map,"0xFF0000";
		areamonster "job3_arch02",306,199,308,201,"Skogul",1761,1,"#arch_3_02::OnMyMobDead";
	}
	disablenpc "#arch_3_02";
	end;
OnMyMobDead:
	end;
OnKill:
	killmonster "job3_arch02","#arch_3_02::OnMyMobDead";
	end;
//OnInit:
//	enablenpc "#arch_3_02";
//	end;
}

job3_arch02,296,216,0	script	#arch_3_03	139,5,5,{
OnTouch:
	mapannounce "job3_arch02","Frus : J'aime ton visage... Puis-je le voler ?",bc_map,"0xFF0000";
	areamonster "job3_arch02",295,215,297,217,"Frus",1762,1,"#arch_3_03::OnMyMobDead";
	disablenpc "#arch_3_03";
	end;
OnMyMobDead:
	end;
OnKill:
	killmonster "job3_arch02","#arch_3_03::OnMyMobDead";
	end;
OnInit:
	disablenpc "#arch_3_03";
	end;
}

job3_arch02,389,390,1	script	mob#arch_1	844,{
	end;
OnEnable:
	areamonster "job3_arch02", 99,101,101,103,"Shrine Invader",1394,2,"mob#arch_1::OnMyMobDead";
	areamonster "job3_arch02", 89,130, 91,132,"Shrine Invader",1394,2,"mob#arch_1::OnMyMobDead";
	areamonster "job3_arch02", 90,169, 92,171,"Shrine Invader",1427,1,"mob#arch_1::OnMyMobDead";
	areamonster "job3_arch02",103,182,105,184,"Shrine Invader",1427,1,"mob#arch_1::OnMyMobDead";
	areamonster "job3_arch02",137,204,139,206,"Shrine Invader",1394,2,"mob#arch_1::OnMyMobDead";
	areamonster "job3_arch02",160,214,162,216,"Shrine Invader",1394,2,"mob#arch_1::OnMyMobDead";
	areamonster "job3_arch02",164,214,166,216,"Shrine Invader",1427,1,"mob#arch_1::OnMyMobDead";
	areamonster "job3_arch02",200,235,202,237,"Shrine Invader",1394,2,"mob#arch_1::OnMyMobDead";
	areamonster "job3_arch02",217,249,219,251,"Shrine Invader",1427,1,"mob#arch_1::OnMyMobDead";
	areamonster "job3_arch02",253,292,255,294,"Shrine Invader",1427,1,"mob#arch_1::OnMyMobDead";
	end;
OnMyMobDead:
	end;
OnKill:
	killmonster "job3_arch02","mob#arch_1::OnMyMobDead";
	end;
}

job3_arch02,389,389,1	script	mob#arch_2	844,{
	end;
OnEnable:
	areamonster "job3_arch02",155,320,157,322,"Shrine Invader",1480,2,"mob#arch_2::OnMyMobDead";
	areamonster "job3_arch02",169,304,171,306,"Shrine Invader",1480,2,"mob#arch_2::OnMyMobDead";
	areamonster "job3_arch02",182,292,184,294,"Shrine Invader",1453,1,"mob#arch_2::OnMyMobDead";
	areamonster "job3_arch02",199,286,201,288,"Shrine Invader",1453,1,"mob#arch_2::OnMyMobDead";
	areamonster "job3_arch02",255,292,257,294,"Shrine Invader",1480,2,"mob#arch_2::OnMyMobDead";
	areamonster "job3_arch02",285,283,287,285,"Shrine Invader",1480,2,"mob#arch_2::OnMyMobDead";
	areamonster "job3_arch02",277,235,279,237,"Shrine Invader",1453,1,"mob#arch_2::OnMyMobDead";
	areamonster "job3_arch02",291,184,293,186,"Shrine Invader",1480,2,"mob#arch_2::OnMyMobDead";
	areamonster "job3_arch02",280,169,282,171,"Shrine Invader",1453,1,"mob#arch_2::OnMyMobDead";
	areamonster "job3_arch02",226,165,228,167,"Shrine Invader",1453,1,"mob#arch_2::OnMyMobDead";
	areamonster "job3_arch02",189,145,191,147,"Shrine Invader",1480,1,"mob#arch_2::OnMyMobDead";
	areamonster "job3_arch02",203,176,205,178,"Shrine Invader",1453,1,"mob#arch_2::OnMyMobDead";
	end;
OnMyMobDead:
	end;
OnKill:
	killmonster "job3_arch02","mob#arch_2::OnMyMobDead";
	end;
}

job3_arch02,389,388,1	script	start#arch	844,{
	end;
OnInit:
	mapwarp "job3_arch02","job3_arch01",29,29;
	end;
OnEnable:
	mapwarp "job3_arch02","job3_arch01",29,29;
	enablenpc "#arch_1_start";
	enablenpc "#arch_1_01";
	enablenpc "#arch_1_02";
	enablenpc "#arch_1_03";
	enablenpc "#arch_1_04";
	enablenpc "#arch_1_05";
	enablenpc "#arch_1_06";
	enablenpc "#arch_1_07";
	enablenpc "#arch_1_08";
	enablenpc "#arch_1_09";
	enablenpc "#arch_1_10";
	enablenpc "#arch_1_11";
	enablenpc "#arch_1_12";
	enablenpc "#arch_1_boss";
	disablenpc "#arch_2_01";
	disablenpc "#arch_2_02";
	disablenpc "#arch_2_03";
	disablenpc "#arch_2_04";
	disablenpc "#arch_2_05";
	disablenpc "#arch_2_06";
	disablenpc "#arch_2_07";
	disablenpc "#arch_2_08";
	disablenpc "#arch_2_09";
	disablenpc "#arch_2_10";
	disablenpc "#arch_2_11";
	disablenpc "#arch_2_boss";
	disablenpc "#arch_3_01";
	disablenpc "#arch_3_02";
	disablenpc "#arch_3_03";
	donpcevent "#arch_3_01::OnKill";
	donpcevent "#arch_3_02::OnKill";
	donpcevent "#arch_3_03::OnKill";
	disablenpc "#arch_end";
	hideonnpc "Valkyrie#arch_01";
	hideonnpc "Valkyrie#arch_02";
	hideonnpc "Valkyrie Anguhilde#end";
	hideonnpc "Valkyrie of the heavens";
	donpcevent "#arch_redcell::OnRed";
	donpcevent "mob#arch_1::OnKill";
	donpcevent "mob#arch_2::OnKill";
	donpcevent "start#arch::OnTimeOff";
	donpcevent "start#arch::OnTimeOn";
	donpcevent "#arch_val01::OnKill";
	donpcevent "#arch_val02::OnKill";
	donpcevent "mob#arch_1::OnKill";
	donpcevent "mob#arch_2::OnKill";
	donpcevent "mob#arch_1::OnEnable";
	donpcevent "#arch_val01::OnEnable";
	end;
OnTimeOn:
	initnpctimer;
	end;
OnTimeOff:
	stopnpctimer;
	end;
OnTimer60000:
OnTimer120000:
OnTimer180000:
OnTimer240000:
OnTimer300000:
OnTimer360000:
OnTimer420000:
OnTimer480000:
OnTimer540000:
	if (getmapusers("job3_arch02") == 0) {
		mapwarp "job3_arch02","job3_arch01",29,29;
		donpcevent "Valkyrie#arch::OnBc";
		stopnpctimer;
	}
	end;
OnTimer600000:
	mapannounce "job3_arch02","Valkyrie's Nightmare: Je n'en peux plus !",bc_map,"0xFF0000";
	end;
OnTimer605000:
	mapannounce "job3_arch02","Chuchotement de Valkyrie : Pas question ! Je ne peux pas vous laisser faire ça. demi-tour!",bc_map,"0xFFCE00";
	mapwarp "job3_arch02","job3_arch01",29,29;
	donpcevent "Valkyrie#arch::OnBc";
	stopnpctimer;
	end;
}

job3_arch02,390,388,1	script	#arch_2_start	844,{
	end;
OnInit:
	disablenpc "#arch_2_01";
	disablenpc "#arch_2_02";
	disablenpc "#arch_2_03";
	disablenpc "#arch_2_04";
	disablenpc "#arch_2_05";
	disablenpc "#arch_2_06";
	disablenpc "#arch_2_07";
	disablenpc "#arch_2_08";
	disablenpc "#arch_2_09";
	disablenpc "#arch_2_10";
	disablenpc "#arch_2_11";
	disablenpc "#arch_2_boss";
	end;
OnEnable:
	enablenpc "#arch_2_01";
	enablenpc "#arch_2_02";
	enablenpc "#arch_2_03";
	enablenpc "#arch_2_04";
	enablenpc "#arch_2_05";
	enablenpc "#arch_2_06";
	enablenpc "#arch_2_07";
	enablenpc "#arch_2_08";
	enablenpc "#arch_2_09";
	enablenpc "#arch_2_10";
	enablenpc "#arch_2_11";
	enablenpc "#arch_2_boss";
	donpcevent "#arch_val02::OnEnable";
	donpcevent "mob#arch_2::OnEnable";
	end;
}

job3_arch02,390,386,1	script	#arch_3_start	844,{
	end;
OnEnable:
	enablenpc "#arch_3_01";
	enablenpc "#arch_3_02";
	enablenpc "#arch_3_03";
	enablenpc "#arch_end";
	//enablenpc "#arch_end_eff";
	end;
}

job3_arch02,290,221,0	script	#arch_end_eff	139,5,5,{
OnTouch:
	specialeffect EF_MAPPILLAR2,AREA,"#arch_end";
	end;
}

/*
job_arch01,26,25,0	script	#archremove	139,3,3,{
OnTouch:
	if (countitem(6154)) delitem 6154, countitem(6154); //Broken_Horn_Pipe
	if (countitem(12381)) delitem 12381, countitem(12381); //ValkyrieA_Scroll
	if (countitem(12382)) delitem 12382, countitem(12382); //ValkyrieB_Scroll
	if (countitem(2798)) delitem 2798, countitem(2798); //Will_Of_Exhausted_Angel
	end;
}
*/

job3_arch01,1,1,1	script	control#arch	844,{
	callfunc "F_GM_NPC";
	mes "[Troll]";
	mes "S'il vous plaît, entrez le mot de passe.";
	next;
	if (callfunc("F_GM_NPC", 1854, 0) == 1) {
		mes "[Transit]";
		mes "La variable globale est";
		mes $@archbs + ".";
		mes "Voulez-vous la changer ?";
		next;
		switch (select("0:1")) {
			case 1:
				set $@archbs, 0;
				hideoffnpc "Valkyrie#arch";
				close;
			case 2:
				set $@archbs, 1;
				hideoffnpc "Valkyrie#arch";
				close;
		}
	} else {
		mes "[Troll]";
		mes "Entrez le mot de passe correct !";
		close;
	}
}

odin_tem02,30,181,0	script	#wherearch01	139,10,10,{
OnTouch:
	if (job_arch == 5)
		viewpoint 1,282,263,1,0xFFFF99;
	end;
}

odin_tem02,30,335,0	script	#wherearch02	139,10,10,{
OnTouch:
	if (job_arch == 5)
		viewpoint 1,282,263,1,0xFFFF99;
	end;
}
